<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script type="text/javascript" src='http://maps.googleapis.com/maps/api/js?v3'>

    </script>
  </head>
  <body>
    <h1>Mapa interactivo</h1>
    <div id="mapa" style="width:700px;height:500px;"></div>
    <script type="text/javascript">
      var divMapa = document.getElementById('mapa');
      navigator.geolocation.getCurrentPosition(fn_ok,fn_mal);
      function fn_mal(){}
      function fn_ok(rta){
        var lat = rta.coords.latitude;
        var lon = rta.coords.longitude;
        var gLatLon = new google.maps.LatLng(lat,lon);
        var objConfig = {
          zoom : 17,
          center : gLatLon
        }
        var gMapa = new google.maps.Map(divMapa,objConfig);
        var objConfigMarker = {
          position : gLatLon,
          map : gMapa,
          title : 'Usted esta aqui'
        }
        var gMarker = new google.maps.Marker(objConfigMarker);
      }
    </script>


  </body>
</html>
